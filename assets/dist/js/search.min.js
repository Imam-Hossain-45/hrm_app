function search(e,s){var t=$.trim($(s).val());$.ajax({type:"GET",url:e,dataType:"json",data:{search_text:t},success:function(t){$(".search-result").css("display","block");var a="";$.each(t.employee_list,function(e){"#search"==s?(a+="<li>",a+="<a href='?query="+t.employee_list[e].id+"'>",a+="<p>"+t.employee_list[e].name+"</p>",a+="<p>"+t.employee_list[e].employee_id+"</p>",a+="<p>"+t.employee_list[e].designation+"</p>",a+="</a>"):(a+="<li>",a+="<input type='hidden' value='"+t.employee_list[e].id+"'>",a+="<p>"+t.employee_list[e].name+"</p>",a+="<p>"+t.employee_list[e].employee_id+"</p>",a+="<p>"+t.employee_list[e].designation+"</p>"),a+="</li>"}),""!=a||(a+="<li>No Employee Found</li>"),$(".search_employee").empty(),$(".search_employee").append(a)}})}function csrfSafeMethod(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function csrftoken(){return $("[name=csrfmiddlewaretoken]").val()}$(document).ready(function(){$.ajaxSetup({beforeSend:function(e,t){csrfSafeMethod(t.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",csrftoken())}}),$("#search").on("paste keyup",function(){search("leave_entry_search/","#search")}),$("#employee_search").on("paste keyup",function(){search("leave_entry_search/","#employee_search")})}),$(document).on("click","#search_employee li",function(){$("#employee_search").val($(this).text()),$("#query").val($(this).find("input").val()),$("#search_employee").fadeOut()});